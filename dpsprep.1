.\" generated with Ronn-NG/v0.9.1
.\" http://github.com/apjanke/ronn-ng/tree/0.9.1
.TH "DPS" "1" "October 2023" ""
.SH "NAME"
\fBdps\fR \- a DjVu to PDF converter
.SH "SYNOPSIS"
\fBdpsprep\fR \fIoptions\fR src [dest]
.SH "DESCRIPTION"
This tool, initially made specifically for use with Sony\'s Digital Paper System (DPS), is now a general\-purpose DjVu to PDF converter with a focus on small output size and the ability to preserve document outlines (e\.g\. TOC) and text layers (e\.g\. OCR)\.
.SH "OPTIONS"
.IP "\[ci]" 4
\fB\-q\fR, \fB\-\-quality\fR : Quality of images in output\. Used only for JPEG compression non\-bitonal pages\. Passed directly to Pillow\.
.IP "\[ci]" 4
\fB\-p\fR, \fB\-\-pool\-size\fR: Size of MultiProcessing pool for handling page\-by\-page operations\.
.IP "\[ci]" 4
\fB\-v\fR, \fB\-\-verbose\fR : Display debug messages\.
.IP "\[ci]" 4
\fB\-o\fR, \fB\-\-overwrite\fR : Overwrite destination file\.
.IP "\[ci]" 4
\fB\-w\fR, \fB\-\-preserve\-working\fR : Preserve the working directory after script termination\.
.IP "\[ci]" 4
\fB\-d\fR, \fB\-\-delete\-working\fR : Delete any existing files in the working directory prior to writing to it\.
.IP "\[ci]" 4
\fB\-\-help\fR: Show help message and exit\.
.IP "" 0
.SH "EXAMPLES"
Produce \fBfile\.pdf\fR in the current directory:
.IP "" 4
.nf
dpsprep /wherever/file\.djvu
.fi
.IP "" 0
.P
Produce \fBoutput\.pdf\fR with reduced image quality:
.IP "" 4
.nf
dpsprep \-\-\-quality=30 input\.djvu output\.pdf
.fi
.IP "" 0
.P
Produce an output file using a large pool of workers:
.IP "" 4
.nf
dpsprep \-\-pool=16 input\.djvu
.fi
.IP "" 0
.SH "NOTE REGARDING COMPRESSION"
We use the default compression provided by Pillow\. For bitonal images, the PDF generation code says that, if \fBlibtiff\fR is available, \fBgroup4\fR compression is used\.
.P
The size of the PDF files can sometimes later be additionally reduced\. OCRmyPDF is an actively maintained project (as of late 2023) that also supports standalone PDF optimization, including JBIG2 compression via \fBjbig2enc\fR\. Its compression level ranges from 1 to 3; details can be found in the project\'s documentation\.
.P
Please note that the compression method suggested in the documentation (setting \fB\-\-tesseract\-timeout\fR to \fB0\fR) may ruin existing text layers\. To perform only PDF optimization you can use the following undocumented tool instead:
.IP "" 4
.nf
python \-m ocrmypdf\.optimize <input_file> <level> <output_file>
.fi
.IP "" 0

